<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Serving : FPGA subsystem &#8212; SERV  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="https://wavedrom.com/skins/default.js"></script>
    <script src="https://wavedrom.com/wavedrom.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="serving-fpga-subsystem">
<h1>Serving : FPGA subsystem<a class="headerlink" href="#serving-fpga-subsystem" title="Link to this heading">¶</a></h1>
<figure class="align-default" id="id1">
<img alt="_images/serving.png" src="_images/serving.png" />
<figcaption>
<p><span class="caption-text">Serving SoClet</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Serving is ideal for FPGA implementations as it only uses a single combined block RAM for instructions, data and RF that can be preloaded with a RISC-V application. It exposes a wishbone data bus that can be used to connect peripheral controllers.</p>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h2>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Parameters</span><a class="headerlink" href="#id2" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 9.1%" />
<col style="width: 18.2%" />
<col style="width: 72.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Values</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>memfile</p></td>
<td><p>“” (default)</p></td>
<td><p>Verilog hex file containing a RISC-V application to be preloaded into memory</p></td>
</tr>
<tr class="row-odd"><td><p>memsize</p></td>
<td><p>1-4294967296 (default 8192)</p></td>
<td><p>Size of memory (in bytes). Needs to be at least large enough to fit the application supplied by memsize. Note that the RF occupies the highest 128 bytes of memory in the RAM.</p></td>
</tr>
<tr class="row-even"><td><p>sim</p></td>
<td><p>0 (default), 1</p></td>
<td><div class="line-block">
<div class="line">Enable simulation mode. In simulation mode, two memory addresses have special purposes.</div>
<div class="line">0x80000000: Writes to this address puts the byte in the lowest data byte into a log file decided by the “signature” plusarg.</div>
<div class="line">0x90000000: Writes to this address ends the simulation.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>RESET_STRATEGY</p></td>
<td><p>“MINI” (default), “NONE”</p></td>
<td><div class="line-block">
<div class="line">Amount of reset applied to design</div>
<div class="line">“NONE” : No reset at all. Relies on a POR to set correct initialization values and that core isn’t reset during runtime</div>
<div class="line">“MINI” : Standard setting. Resets the minimal amount of FFs needed to restart execution from the instruction at RESET_PC.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>WITH_CSR</p></td>
<td><p>0 (default), 1</p></td>
<td><p>Enable the Zicsr extension. This also enables timer IRQ and exception handling. Note that SERV only implements a small subset of the CSR registers.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="signals">
<h2>Signals<a class="headerlink" href="#signals" title="Link to this heading">¶</a></h2>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">Signals</span><a class="headerlink" href="#id3" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 8.3%" />
<col style="width: 4.2%" />
<col style="width: 62.5%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Signal</p></th>
<th class="head"><p>Width</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>i_clk</p></td>
<td><p>1</p></td>
<td><p>in</p></td>
<td><p>Clock</p></td>
</tr>
<tr class="row-odd"><td><p>i_rst</p></td>
<td><p>1</p></td>
<td><p>in</p></td>
<td><p>Synchronous reset</p></td>
</tr>
<tr class="row-even"><td><p>i_timer_irq</p></td>
<td><p>1</p></td>
<td><p>in</p></td>
<td><p>Timer interrupt</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Extension interface</strong></p></td>
<td></td>
<td></td>
<td><p>Connect to peripheral controllers</p></td>
</tr>
<tr class="row-even"><td><p>o_wb_adr</p></td>
<td><p>32</p></td>
<td><p>out</p></td>
<td><p>Data bus address</p></td>
</tr>
<tr class="row-odd"><td><p>o_wb_dat</p></td>
<td><p>32</p></td>
<td><p>out</p></td>
<td><p>Data bus write data</p></td>
</tr>
<tr class="row-even"><td><p>o_wb_sel</p></td>
<td><p>4</p></td>
<td><p>out</p></td>
<td><p>Data bus write data byte select mask</p></td>
</tr>
<tr class="row-odd"><td><p>o_wb_we</p></td>
<td><p>1</p></td>
<td><p>out</p></td>
<td><p>Data bus write transaction</p></td>
</tr>
<tr class="row-even"><td><p>o_wb_cyc</p></td>
<td><p>1</p></td>
<td><p>out</p></td>
<td><p>Data bus active cycle</p></td>
</tr>
<tr class="row-odd"><td><p>i_wb_rdt</p></td>
<td><p>32</p></td>
<td><p>in</p></td>
<td><p>Data bus return data</p></td>
</tr>
<tr class="row-even"><td><p>i_wb_ack</p></td>
<td><p>1</p></td>
<td><p>in</p></td>
<td><p>Data bus return data valid</p></td>
</tr>
</tbody>
</table>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">SERV</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="datasheet.html">Datasheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="internals.html">Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="reservoir.html">Building systems with SERV</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2020, Olof Kindgren.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/serving.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>